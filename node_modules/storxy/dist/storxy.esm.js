function a(t){return t!==null&&typeof t=="object"}function f(t){return typeof t=="function"}function $(t,r){return t!=t?r==r:t!==r||t&&a(t)||f(t)}function p(t,r,n){if(!a(t))return t;for(let e in t)t[e]=p(t[e],r);let u=e=>(!n||e===n)&&r();return new Proxy(t,{set(e,o,i){return $(e[o],i)&&(e[o]=p(i,r),u(o)),!0},deleteProperty(e,o){return delete e[o],u(o),!0}})}function m(t){let r=null,n=null,u=!1,s=()=>{r=window.requestAnimationFrame(o)},e=()=>{u=!0,window.cancelAnimationFrame(r)};function o(i){n||(n=i),t({now:i,start:n,elapsed:i-n,stop:e}),!u&&s()}return s(),{stop:e}}function l(t,r){let n,u=new Set,s=null,e=p({$:t},()=>n(),"$");n=()=>{u.forEach(i=>i(e.$))};let o=i=>{u.delete(i),s&&!u.size&&(f(s)?s(e):f(s.then)&&s.then(c=>c(e)))};return e.subscribe=(i,c)=>(u.size||(s=f(r)?r(e):null),u.add(i),c||i(e.$),()=>o(i)),e.$$=e.subscribe,e}function b(t,r){return!t||!t.length&&!t.subscribe?l():l(void 0,u=>{function s(){u.$=r(t.length?t.map(o=>o.$):t.$)}let e=(t.length?t:[t]).map(o=>o.subscribe(s,!0));return s(),()=>e.forEach(o=>o())})}function x(t,r){r=Object.assign({duration:300,easing:h,interpolate:d},r);let n=l(t),u=null,s=e=>{u&&u.stop();let o=r.interpolate(n.$,e);u=m(i=>{let c=i.elapsed/r.duration||0;if(c>=1)return i.stop(),n.$=e;n.$=o(r.easing(c))})};return{subscribe:n.subscribe,$$:n.subscribe,get $(){return n.$},set $(e){s(e)}}}function d(t,r){return function(n){return t+(r-t)*n}}function h(t){return t<.5?4*Math.pow(t,3):1-Math.pow(-2*t+2,3)/2}export{b as computed,x as motion,l as store};
